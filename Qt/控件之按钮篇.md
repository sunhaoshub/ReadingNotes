# 按钮基类QAbstractButton

单选按钮（QRadioButton）、复选按钮（QCheckBox）也是其子类



按钮的三种状态:

Normal（正常状态），Hover（鼠标放在上面），Pressed（按下按钮）

正常是Normal到Pressed，再从Pressed到Normal



check属性：使按钮像开关，点击一次松开后是Pressed，再点一次是Normal



## QPushButton

默认按钮一般与回车键关联

```c++
#include "mainwindow.h"
#include "ui_mainwindow.h"
#include<QMessageBox>
#include<QDebug>

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);

    //普通按钮
    ui->normalBtn->setText("普通按钮A");
    ui->normalBtn->setIcon(QIcon("://icon2.webp"));
    ui->normalBtn->setIconSize(QSize(30,30));
    connect(ui->normalBtn,&QPushButton::clicked,this,[=]{
        QMessageBox::information(this,"提示","普通弹窗");
    });

    //设置checked属性
    ui->checkedBtn->setCheckable(1);
    connect(ui->checkedBtn,&QPushButton::toggled,this,[=](bool check){
        QMessageBox::information(this,"提示","当前按钮选中属性为："+QString(check?"true":"false"));
         //qDebug() << "我是一个checked按钮, 当前状态为:" << check;
    });

    //设置右键菜单
    QMenu* menu = new QMenu;
    QAction* act1 = menu->addAction("a");
    QAction* act2 = menu->addAction("b");
    QAction* act3 = menu->addAction("c");
    ui->menuBtn->setMenu(menu);
    connect(act1,&QAction::triggered,this,[=](){
        QMessageBox::information(this,"提示",act1->text());
    });
    connect(act2,&QAction::triggered,this,[=](){
        QMessageBox::information(this,"提示",act2->text());
    });
    connect(act3,&QAction::triggered,this,[=](){
        QMessageBox::information(this,"提示",act3->text());
    });
}

MainWindow::~MainWindow()
{
    delete ui;
}

```

## QToolButton

有图标默认只显示图标

menu菜单延时显示（长按才显示）而非即时显示

与QPushButton的主要区别在于在弹出菜单方面

```C++
//设置弹出方式
void QToolButton::setPopupMode(QToolButton::ToolButtonPopupMode mode);
/*
形参是枚举值
- QToolButton::DelayedPopup: 
        - 延时弹出, 按压工具按钮一段时间后才能弹出, 比如:浏览器的返回按钮
        - 长按按钮菜单弹出, 但是按钮的 clicked 信号不会被发射
    - QToolButton::MenuButtonPopup: 
        - 在这种模式下，工具按钮会显示一个特殊的箭头，表示有菜单。
	- 当按下按钮的箭头部分时，将显示菜单。按下按钮部分发射 clicked 信号
    - QToolButton::InstantPopup: 
        - 当按下工具按钮时，菜单立即显示出来。
        - 在这种模式下，按钮本身的动作不会被触发(不会发射clicked信号

*/
//在按钮上绘制箭头
void QToolButton::setArrowType(Qt::ArrowType type);
```



```C++
#include "mainwindow.h"
#include "ui_mainwindow.h"
#include<QDebug>

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);
    //普通按钮
    ui->normalButton->setText("普通按钮");
    ui->normalButton->setIcon(QIcon("://Icon.webp"));
    ui->normalButton->setIconSize(QSize(50,50));
    //默认只显示图标
    ui->normalButton->setToolButtonStyle(Qt::ToolButtonTextBesideIcon);
    connect(ui->normalButton,&QToolButton::clicked,this,[=]{
    qDebug()<<"普通按钮。。。";
    });

    //checked属性
    ui->checkedBtn->setCheckable(true);
    connect(ui->checkedBtn,&QToolButton::toggled,this,[=](bool bl){
        qDebug()<<"checked属性按钮："<<bl;
    });

    //通过QAction来给ToolButton添加图标和文字  setDefaultAction
    QAction* action  = new QAction(QIcon("://Icon.webp"),"action");
    ui->actionBtn->setDefaultAction(action);
    connect(ui->actionBtn,&QToolButton::triggered,this,[=](QAction* act){
        act->setIcon(QIcon("://icon2.webp"));
        act->setText("QAction");
    });
    ui->actionBtn->setToolButtonStyle(Qt::ToolButtonTextUnderIcon);

    //通过qt自带的箭头函数来设置图标
    ui->arrowBtn->setArrowType(Qt::UpArrow);
    ui->arrowBtn->setText("点击箭头");
    ui->arrowBtn->setToolButtonStyle(Qt::ToolButtonTextUnderIcon);

    //菜单项
    QMenu* menu = new QMenu;
    menu->addAction("A");
    menu->addAction("B");
    menu->addAction("C");

    ui->menuBtn->setMenu(menu);
    /*
    形参是枚举值
    - QToolButton::DelayedPopup:
            - 延时弹出, 按压工具按钮一段时间后才能弹出, 比如:浏览器的返回按钮
            - 长按按钮菜单弹出, 但是按钮的 clicked 信号不会被发射,单击会出发
        - QToolButton::MenuButtonPopup:
            - 在这种模式下，工具按钮会显示一个特殊的箭头，表示有菜单。
        - 当按下按钮的箭头部分时，将显示菜单。按下按钮部分发射 clicked 信号
        - QToolButton::InstantPopup:
            - 当按下工具按钮时，菜单立即显示出来。
            - 在这种模式下，按钮本身的动作不会被触发(不会发射clicked信号

    */
    ui->menuBtn->setPopupMode(QToolButton::MenuButtonPopup);

    connect(ui->menuBtn,&QToolButton::clicked,this,[=](){
        qDebug()<<"触发clicked";
    });
}

MainWindow::~MainWindow()
{
    delete ui;
}
```





clicked,toggled,triggered的区别



## QRadioButton

